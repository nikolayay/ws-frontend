{"remainingRequest":"/Users/nikolay/new-wounds-scars/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nikolay/new-wounds-scars/frontend/src/components/wizard/CreateEntryStepperPosas.vue?vue&type=style&index=0&id=50006c54&scoped=true&lang=css&","dependencies":[{"path":"/Users/nikolay/new-wounds-scars/frontend/src/components/wizard/CreateEntryStepperPosas.vue","mtime":1556202483151},{"path":"/Users/nikolay/new-wounds-scars/frontend/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/nikolay/new-wounds-scars/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nikolay/new-wounds-scars/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nikolay/new-wounds-scars/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nikolay/new-wounds-scars/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.slider-wrapper {\n  display: grid;\n  justify-items: center;\n  justify-content: space-between;\n  grid-gap: 10px;\n}\n\n.slider-wrapper.is-two {\n  grid-template-columns: repeat(2, auto);\n}\n\n.slider-wrapper.is-three {\n  grid-template-columns: repeat(3, auto);\n}\n.slider-process {\n  color: red;\n}\n.tab-item {\n  height: 160px !important;\n}\n\n.summary {\n  max-width: 360px;\n  display: flex;\n  justify-content: space-evenly;\n}\n\n.scores-list {\n  display: grid;\n  grid-template-columns: auto auto;\n}\n\n.total {\n  display: grid;\n  align-items: center;\n  justify-content: space-evenly;\n  grid-template-columns: auto minmax(min-content, 300px) auto;\n}\n\n.mb-2 {\n  margin-bottom: 45px;\n}\n\n.back-button {\n  visibility: hidden;\n}\n\n.button-text {\n  font-size: 12px;\n}\n",{"version":3,"sources":["CreateEntryStepperPosas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"CreateEntryStepperPosas.vue","sourceRoot":"src/components/wizard","sourcesContent":["<template>\n  <div>\n    <b-tabs expanded position=\"is-centered\" size=\"is-small\" v-model=\"activeQuestionTab\">\n      <b-tab-item\n        :label=\"makeLabel(index)\"\n        :key=\"index\"\n        v-for=\"(questionData, index) in this.posasQuestions\"\n        class=\"slider\"\n        :title=\"`Go to the Question number ${index + 1}`\"\n      >\n        <div class=\"slider-wrapper is-three mb-2\">\n          <button\n            :disabled=\"activeQuestionTab == 0\"\n            @click=\"stepBackActiveQuestionTab\"\n            class=\"button is-primary is-outlined\"\n            title=\"Go to the previous question\"\n          >\n            <b-icon icon=\"arrow-left\" size=\"is-small\"></b-icon>\n            <span class=\"button-text\">Back</span>\n          </button>\n\n          <span>\n            <p class=\"subtitle is-6\">\n              {{questionData.question}}\n              <a\n                @click=\"isPosasInfoModalActive = true\"\n                :title=\"`More info on Question ${index + 1}`\"\n                class=\"is-primary\"\n              >\n                <b-icon icon=\"information\"></b-icon>\n              </a>\n            </p>\n          </span>\n\n          <button\n            @click=\"stepForwardActiveQuestionTab\"\n            class=\"button is-primary is-outlined\"\n            title=\"Go to the next question\"\n          >\n            <span class=\"button-text\">Next</span>\n            <b-icon icon=\"arrow-right\" size=\"is-small\"></b-icon>\n          </button>\n        </div>\n\n        <b-modal :active.sync=\"isPosasInfoModalActive\" has-modal-card>\n          <posas-info-modal>{{questionData.info}}</posas-info-modal>\n        </b-modal>\n\n        <vue-slider\n          :show=\"tabActive\"\n          @drag-start=\"handleDragStart\"\n          @drag-end=\"handleDragEnd\"\n          ref=\"slider\"\n          v-bind=\"sliderOptions\"\n          v-model=\"form[Object.keys(form)[index]]\"\n        ></vue-slider>\n\n        <div class=\"slider-wrapper is-two\">\n          <div>\n            <small>{{questionData.top_msg}}</small>\n          </div>\n\n          <div>\n            <small>{{questionData.bot_msg}}</small>\n          </div>\n        </div>\n      </b-tab-item>\n      <b-tab-item label=\"Summary\">\n        <div class=\"slider-wrapper is-three\">\n          <button\n            :disabled=\"activeQuestionTab == 0\"\n            @click=\"stepBackActiveQuestionTab\"\n            class=\"button is-primary is-outlined\"\n          >\n            <b-icon icon=\"arrow-left\" size=\"is-small\"></b-icon>\n          </button>\n        </div>\n\n        <!-- <div class=\"summary box\">\n          <p :key=\"index\" v-for=\"(answer, index) in Object.values(form)\">\n            <strong>Q{{index + 1}}:</strong>\n            {{answer}}\n          </p>\n        </div>-->\n        <div class=\"total\">\n          <button @click=\"restartQuestionnare\" class=\"button is-primary is-outlined\">Restart</button>\n          <div>\n            <h2 class=\"subtitle\">Your assessment total:</h2>\n            <h1 class=\"title\">{{posasTotal}}</h1>\n          </div>\n          <button @click=\"confirmQuestionnare\" class=\"button is-primary\">Confirm</button>\n        </div>\n      </b-tab-item>\n    </b-tabs>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport VeeValidate from \"vee-validate\";\nimport vueSlider from \"vue-slider-component\";\n\nimport PosasInfoModal from \"@/components/modals/PosasInfoModal\";\nimport posasQuestions from \"@/assets/posas.json\";\n\nconst sliderStyle = {\n  backgroundColor: \"#ca0000\",\n  border: \"3px solid #ca0000\"\n};\n\nimport formWizardMixin from \"@/mixins/formWizardMixin\";\n\nVue.use(VeeValidate);\nexport default {\n  mixins: [formWizardMixin],\n  components: {\n    vueSlider,\n    PosasInfoModal\n  },\n\n  data() {\n    return {\n      sliderOptions: {\n        min: 0,\n        max: 10,\n        interval: 0.1,\n        dotSize: 20,\n        piecewise: true,\n        sliderStyle: sliderStyle,\n        processStyle: sliderStyle,\n        tooltipStyle: sliderStyle,\n        labelStyle: sliderStyle\n      },\n      form: {\n        posas_q1: 0,\n        posas_q2: 0,\n        posas_q3: 0,\n        posas_q4: 0,\n        posas_q5: 0,\n        posas_q6: 0,\n        posas_q7: 0\n      },\n      isPosasInfoModalActive: false,\n      posasQuestions,\n      activeQuestionTab: 0\n    };\n  },\n\n  methods: {\n    restartQuestionnare() {\n      Object.keys(this.form).map(key => (this.form[key] = 0));\n      this.activeQuestionTab = 0;\n    },\n    confirmQuestionnare() {\n      this.$parent.$parent.nextTab();\n    },\n    makeLabel(index) {\n      const q = this.form[\"posas_q\" + (index + 1)];\n      return `Question ${index + 1} ${q ? \"- \" + q : \"\"}`;\n    },\n    handleDragStart(slider) {\n      slider.tooltipStyle.fontSize = \"30px\";\n      slider.refresh();\n    },\n    handleDragEnd(slider) {\n      // make smaller\n      slider.tooltipStyle.fontSize = null;\n      slider.refresh();\n\n      // // switch to next tab\n      // setTimeout(() => {\n      //   if (this.activeQuestionTab < this.posasQuestions.length) {\n      //     this.activeQuestionTab++;\n      //   }\n      // }, 250);\n    },\n    stepBackActiveQuestionTab() {\n      if (this.activeQuestionTab > 0) {\n        this.activeQuestionTab--;\n      }\n    },\n    stepForwardActiveQuestionTab() {\n      if (this.activeQuestionTab < this.posasQuestions.length) {\n        this.activeQuestionTab++;\n      }\n    },\n    showInfoModal() {\n      this.$modal.open({\n        parent: this,\n        component: PosasInfoModal,\n        hasModalCard: false\n      });\n    }\n  },\n  // below is the workaround for fixing broken sliders inside the <tab-content>\n  computed: {\n    tabActive() {\n      return this.$parent.active;\n    },\n    posasTotal() {\n      return Object.values(this.form)\n        .reduce((c, n) => c + n)\n        .toFixed(1);\n    }\n  },\n  watch: {\n    tabActive() {\n      this.$refs.slider.forEach(s => s.refresh());\n    }\n  }\n};\n</script>\n\n\n<style scoped>\n.slider-wrapper {\n  display: grid;\n  justify-items: center;\n  justify-content: space-between;\n  grid-gap: 10px;\n}\n\n.slider-wrapper.is-two {\n  grid-template-columns: repeat(2, auto);\n}\n\n.slider-wrapper.is-three {\n  grid-template-columns: repeat(3, auto);\n}\n.slider-process {\n  color: red;\n}\n.tab-item {\n  height: 160px !important;\n}\n\n.summary {\n  max-width: 360px;\n  display: flex;\n  justify-content: space-evenly;\n}\n\n.scores-list {\n  display: grid;\n  grid-template-columns: auto auto;\n}\n\n.total {\n  display: grid;\n  align-items: center;\n  justify-content: space-evenly;\n  grid-template-columns: auto minmax(min-content, 300px) auto;\n}\n\n.mb-2 {\n  margin-bottom: 45px;\n}\n\n.back-button {\n  visibility: hidden;\n}\n\n.button-text {\n  font-size: 12px;\n}\n</style>\n"]}]}